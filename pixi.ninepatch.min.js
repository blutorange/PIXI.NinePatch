"use strict";var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(function(a,b){a.NinePatch=function(c){function d(e,f,g){_classCallCheck(this,d);var h=_possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));1<arguments.length&&(e={width:f,height:g,resource:e}),h.scaleMode=e.scaleMode||a.NinePatch.scaleModes.NINEPATCH,h.targetWidth=e.width,h.targetHeight=e.height,h.loaded=0,h.updateCallback=null,h.readyCallback=null;var k=e.resource;if(k instanceof a.loaders.Resource&&(k=k.textures),e.image)for(var j=0;9>j;j++)h.addChild(k[e.image]);else h.addChild.apply(h,_toConsumableArray(Object.values(k).map(function(m){return new a.Sprite(m)})));if(h.addChild(new a.Container),h.children[2].anchor.set(1,0),h.children[5].anchor.set(1,0),h.children[6].anchor.set(0,1),h.children[7].anchor.set(0,1),h.children[8].anchor.set(1,1),h._body=h.children[9],h._bodyX=h.children[0].width,h._bodyY=h.children[0].height,h._bodyR=h.children[8].width,h._bodyB=h.children[8].height,e.resource instanceof a.loaders.Resource){var l=((e.resource.data||{}).meta||{}).content;l&&(h._body.position.set(l.x,l.y),h._bodyX=l.x,h._bodyY=l.y,h._bodyR=l.r,h._bodyB=l.b)}return h.update(),h}return _inherits(d,c),_createClass(d,[{key:"onUpdate",value:function onUpdate(e){return this.updateCallback=e,this}},{key:"onReady",value:function onReady(e){return e(),this}},{key:"update",value:function update(e,f){e!==b&&(this.targetWidth=e),f!==b&&(this.targetHeight=f);var g;g=this.children[1],g.position.set(this.children[0].width,0),g.width=this.targetWidth-g.x-this.children[2].width,g=this.children[2],g.position.set(this.targetWidth,0),g=this.children[3],g.position.set(0,this.children[0].height),g.height=this.targetHeight-g.y-this.children[6].height,g=this.children[4],g.position.set(this.children[1].x,this.children[3].y),g.height=this.children[3].height,g.width=this.children[1].width,g=this.children[5],g.position.set(this.targetWidth,this.children[3].y),g.height=this.children[3].height,g=this.children[6],g.position.set(0,this.targetHeight),g=this.children[7],g.position.set(this.children[1].x,this.targetHeight),g.width=this.children[1].width,g=this.children[8],g.position.set(this.targetWidth,this.targetHeight),this._bodyWidth=this.targetWidth-this._bodyX-this._bodyR,this._bodyHeight=this.targetHeight-this._bodyY-this._bodyB,this.updateCallback&&this.updateCallback()}},{key:"bodyWidth",get:function get(){return this._bodyWidth}},{key:"bodyHeight",get:function get(){return this._bodyHeight}},{key:"body",get:function get(){return this._body}},{key:"content",get:function get(){return this._content}},{key:"width",get:function get(){return this.scaleMode===a.NinePatch.scaleModes.DEFAULT?this.scale.x*this.getLocalBounds().width:this.scale.x*this.targetWidth},set:function set(e){if(this.scaleMode===a.NinePatch.scaleModes.DEFAULT){var f=this.getLocalBounds().width;this.scale.x=0===f?1:e/(f/this.scale.x),this._width=e}else this.update(e,this.targetHeight)}},{key:"height",get:function get(){return this.scaleMode===a.NinePatch.scaleModes.DEFAULT?this.scale.y*this.getLocalBounds().height:this.scale.y*this.targetHeight},set:function set(e){if(this.scaleMode===a.NinePatch.scaleModes.DEFAULT){var f=this.getLocalBounds().height;this.scale.y=0===f?1:e/(f/this.scale.y),this._height=e}else this.update(this.targetWidth,e)}}]),d}(a.Container),a.NinePatch.scaleModes={DEFAULT:1,NINEPATCH:2}})(window.PIXI);
